-- 证券期货业信息系统压力测试指标表
-- 使用方法：
--   mysql -uroot -proot -P3307 -h127.0.0.1 easy-jmeter < init_db/add_pressure_test_metrics.sql

CREATE TABLE IF NOT EXISTS pressure_test_metric (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '主键ID',
    top_category VARCHAR(20) NOT NULL COMMENT '指标大类，例如 性能、可靠性',
    sub_category VARCHAR(50) NOT NULL COMMENT '指标子类，例如 处理容量、资源利用性',
    indicator_code VARCHAR(20) NOT NULL COMMENT '指标编号',
    indicator_name VARCHAR(100) NOT NULL COMMENT '指标名称',
    indicator_definition TEXT NOT NULL COMMENT '指标定义',
    source_reference VARCHAR(100) DEFAULT '证券期货业信息系统压力测试指南 表3' COMMENT '指标来源',
    display_order INT DEFAULT 0 COMMENT '排序',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY uk_indicator_code (indicator_code)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='证券期货业信息系统压力测试指标';

TRUNCATE TABLE pressure_test_metric;

INSERT INTO pressure_test_metric (top_category, sub_category, indicator_code, indicator_name, indicator_definition, display_order)
VALUES
('性能', '吞吐率', 'XN-1-1', '订单峰值吞吐率', '系统在单位时间内能够处理订单请求并返回订单确认的最大订单数。', 10),
('性能', '吞吐率', 'XN-1-2', '成交峰值吞吐率', '系统在单位时间内能够处理订单请求并返回成交回报的最大成交数量。', 11),
('性能', '吞吐率', 'XN-1-3', '订单持续吞吐率', '系统在一定时期内能够处理订单请求并返回订单确认的最大订单数。', 12),
('性能', '吞吐率', 'XN-1-4', '成交持续吞吐率', '系统在一定时期内能够处理订单请求并返回成交回报的最大成交数量。', 13),
('性能', '吞吐率', 'XN-1-5', '开户处理峰值吞吐率', '系统在短时间内能够处理开户请求并返回响应的最大开户数量。', 14),
('性能', '吞吐率', 'XN-1-6', '风控数据流处理峰值吞吐率', '系统在短时间内能够处理风控数据流的最大数据量。', 15),
('性能', '吞吐率', 'XN-1-7', '风控数据流处理持续吞吐率', '系统在一定时间内能够连续处理的最大风控数据量。', 16),
('性能', '吞吐率', 'XN-1-8', '并发查询处理能力', '系统在短时间内能够同时处理查询请求并返回响应的最大次数。', 17),
('性能', '吞吐率', 'XN-1-9', '并发登录处理能力', '系统在运行期间能够同时处理并发登录请求并返回响应的最大次数。', 18),
('性能', '时延', 'XN-2-1', '订单处理时延', '系统收到订单请求至发出订单确认所经历的时间。', 20),
('性能', '时延', 'XN-2-2', '订单成交时延', '系统收到一笔能即时成交的订单请求至发出成交回报所经历的时延。', 21),
('性能', '时延', 'XN-2-3', '查询响应时延', '系统收到查询请求至返回查询响应所经历的时延。', 22),
('性能', '时延', 'XN-2-4', '登录响应时延', '系统收到登录请求至返回登录响应所经历的时延。', 23),
('性能', '时延', 'XN-2-5', '基本行情频率', '系统向市场发布行情信息的频率。', 24),
('性能', '时延', 'XN-2-6', '基本行情时延', '系统发布行情信息所经历的时延。', 25),
('性能', '时延', 'XN-2-7', '风控数据流处理时延', '系统收到风控数据流请求并完成处理所经历的时延。', 26),
('性能', '时延', 'XN-2-8', '系统上行穿透时延', '系统收到业务发起请求到业务受理端发出响应所经历的时延。', 27),
('性能', '时延', 'XN-2-9', '系统下行穿透时延', '系统收到业务受理请求至业务终端处理完成所经历的时延。', 28),
('性能', '处理容量', 'RL-1-1', '日订单处理容量', '系统每日可处理的最大订单数。', 30),
('性能', '处理容量', 'RL-1-2', '日成交处理容量', '系统每日可处理的最大成交数量。', 31),
('性能', '处理容量', 'RL-1-3', '日行情处理容量', '系统每日可处理的最大行情数量。', 32),
('性能', '处理容量', 'RL-1-4', '日开户处理容量', '系统每日可处理的最大开户数量。', 33),
('性能', '处理容量', 'RL-1-5', '日证券过户处理容量', '系统每日可处理的最大证券过户数量。', 34),
('性能', '处理容量', 'RL-1-6', '日结算处理容量', '系统每日可处理的最大结算笔数。', 35),
('性能', '处理容量', 'RL-1-7', '日风控数据流处理容量', '系统每日可处理的最大风控数据流量。', 36),
('性能', '处理容量', 'RL-2-8', '交易单元登录容量', '系统运行时能够支持的最大交易单元（交易网关）数量。', 37),
('性能', '处理容量', 'RL-2-9', '席位登录容量', '系统运行时能够支持的最大席位数量。', 38),
('性能', '连接容量', 'RL-2-10', '应用会话连接容量', '系统对外可提供的应用会话连接数量。', 40),
('性能', '连接容量', 'RL-2-11', '数据库连接容量', '系统设计时可支持的最大数据库连接数量。', 41),
('性能', '基础数据容量', 'RL-3-1', '系统账户容量', '系统设计时可支持的最大账户数量能够满足实际业务需要的程度。', 50),
('性能', '基础数据容量', 'RL-3-2', '系统产品容量', '系统设计时可支持的最大产品数量能够满足实际业务需要的程度。', 51),
('性能', '基础数据容量', 'RL-3-3', '系统品种容量', '系统设计时可支持的最大品种数量能够满足实际业务需要的程度。', 52),
('性能', '基础数据容量', 'RL-3-4', '系统合约容量', '系统设计时可支持的最大期货合约数量能够满足实际业务需要的程度。', 53),
('性能', '基础数据容量', 'RL-3-5', '系统持仓容量', '系统设计时可支持的最大持仓数量能够满足实际业务需要的程度。', 54),
('性能', '基础数据容量', 'RL-3-6', '系统成交金额容量', '系统设计时可支持的最大成交金额能够满足实际业务需要的程度。', 55),
('性能', '基础数据容量', 'RL-3-7', '系统交易单元容量', '系统设计时可支持的最大交易单元（交易网关）数量能够满足实际业务需要的程度。', 56),
('性能', '基础数据容量', 'RL-3-8', '系统席位容量', '系统设计时可支持的最大席位数量能够满足实际业务需要的程度。', 57),
('性能', '资源利用性', 'ZY-1-1', 'CPU峰值占用率', '系统运行时CPU占用率的最大值。', 60),
('性能', '资源利用性', 'ZY-1-2', '内存峰值占用率', '系统运行时内存占用率的最大值。', 61),
('性能', '资源利用性', 'ZY-1-3', '磁盘峰值占用率', '系统运行时磁盘容量占用率的最大值。', 62),
('性能', '资源利用性', 'ZY-1-4', '网络带宽峰值占用率', '系统运行时网络带宽占用率的最大值。', 63),
('可靠性', '成熟性', 'KK-1-1', '订单丢失率', '系统在发生内外部错误时，未正确处理或未向外报送订单数量的比例。', 70),
('可靠性', '成熟性', 'KK-1-2', '订单重复率', '系统在发生内外部错误时，生成重复订单数量的比例。', 71),
('可靠性', '成熟性', 'KK-1-3', '订单乱序率', '系统在发生内外部错误时，违背先进先出原则的订单数量的比例。', 72),
('可靠性', '成熟性', 'KK-1-4', '行情丢包率', '系统在发生内外部错误时，未向外报送或行情端未能正确接收的数据包数量比例。', 73),
('可靠性', '容错性', 'KK-2-1', '软件容错性', '系统在发生内外部错误或故障时，能控制的故障模式以避免系统失效的比例。', 80),
('可靠性', '容错性', 'KK-2-2', '组件冗余度', '系统为避免失效而安装冗余组件的比例。', 81),
('可靠性', '容错性', 'KK-2-3', '平均故障通告时间', '系统识别并通告故障的平均时间。', 82),
('可靠性', '易恢复性', 'KK-3-1', '系统恢复时间RTO', '系统发生故障后恢复可支持业务运行、恢复运营的时间。', 90),
('可靠性', '易恢复性', 'KK-3-2', '数据恢复时间RPO', '系统发生故障后恢复可支持业务运行、恢复运营、获取回收到时间。', 91),
('可靠性', '易恢复性', 'KK-3-3', '同城容灾支持能力', '同城备份系统能够保持连续业务的比例。', 92),
('可靠性', '易恢复性', 'KK-3-4', '异地容灾支持能力', '异地灾备系统能够保持连续业务的比例。', 93),
('可靠性', '稳定性', 'KK-4-1', '持续运行时长', '系统在正常业务情况下持续稳定运行的时长。', 100);

